import{l as x,T as C,g as E,m as V,c as n,a as s,u as a,w as _,F as U,p as B,o as u,Z as L,b as v,d as e,t as y,e as M,h as c,q as h,z as N,n as S,f as A,A as q}from"./app-RSOWmGCQ.js";import{_ as R}from"./AuthenticatedLayout-36knnmzF.js";import{_ as i,a as m,b as d}from"./TextInput-9c8eF1dI.js";import{_ as j}from"./PrimaryButton-TJPzQAim.js";import{_ as F}from"./SecondaryButton-6zv7LV75.js";import"./multiselect.esm-Ej0dBR9w.js";import{s as P}from"./textarea.esm-2A_sfgDp.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./TAYSU LOGO REGISTRADO-05FDOwhA.js";import"./virtualscroller.esm-jJa3C1Wb.js";import"./ripple.esm-j8v4WZGD.js";import"./basecomponent.esm-hJOnh_7b.js";import"./index.esm-jLlFTGNL.js";import"./portal.esm-MNF-yVIz.js";const D={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},I={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},O={class:"mt-1 text-gray-500"},X={class:"text-right"},G={class:"p-4 md:p-5"},K={class:"col-span-2 w-full sm:flex grid gap-4"},Z=e("option",{selected:"",disabled:"",value:""},"seleccionar talla",-1),H=e("option",{value:"XS"},"Talla XS",-1),J=e("option",{value:"S"},"Talla S",-1),Q=e("option",{value:"M"},"Talla M",-1),W=e("option",{value:"L"},"Talla L",-1),Y=[Z,H,J,Q,W],ee=e("option",{selected:"",disabled:"",value:""},"seleccionar categoria",-1),oe=["value"],ae=e("option",{selected:"",disabled:"",value:""},"seleccionar estado",-1),te=e("option",{value:"Activo"},"Activo",-1),se=e("option",{value:"Agotado"},"Agotado",-1),le=e("option",{value:"Bloqueado"},"Bloqueado",-1),re=[ae,te,se,le],de={class:"col-span-2"},ie=e("p",{class:"text-gray-600 text-sm"}," Información adicional sobre el producto (max 300 caracteres) ",-1),ne={key:0},ue={class:"col-span-2"},ce=e("p",{class:"text-gray-600 text-sm"}," Imagen de referencia del producto ",-1),me={class:"border-2 border-gray-300 rounded-md p-2"},pe={class:""},ge={class:"flex justify-center"},be=["src","alt"],fe={class:"mt-4 flex flex-col items-end"},ze={__name:"Edit",props:{categorias:{type:Object,default:()=>({})},producto:{type:Object,default:()=>({})}},setup(w){const T=B("$swal"),r=w,p=x("/storage/uploads/productos/"+r.producto.imagen),g=x(!1),b=x(!1);console.log(r.producto);const o=C({id:r.producto.id,nombre:r.producto.nombre,sku:r.producto.sku,detalles:r.producto.detalles,precio:r.producto.precio,cantidad:r.producto.cantidad,talla:r.producto.talla,categoria_id:r.producto.categoria_id,estado:r.producto.estado,imagen:r.producto.imagen}),k=E(()=>{const t=o.detalles.trim().length;return t>=300?b.value=!0:b.value=!1,t});V(k,()=>{o.detalles=o.detalles.trim()}),V(g,()=>{p.value=""});const $=f=>{if(o.imagen=f,console.log(o.imagen),!o.imagen)return;const t=new FileReader;t.onload=()=>{p.value=t.result},t.readAsDataURL(o.imagen)},z=()=>{o.post(route("productos.actualizarProd"),{onSuccess:function(){T({title:"Registro Guardado",text:"El producto se ha actualizado exitosamente",icon:"success"})}})};return(f,t)=>(u(),n(U,null,[s(a(L),{title:"Agregar Producto"}),s(R,null,{header:_(()=>[v(" Editar producto ")]),default:_(()=>[e("div",D,[e("div",I,[e("h3",O," Editar producto "+y(a(o).nombre),1),e("div",X,[s(F,{href:f.route("productos.index")},{default:_(()=>[v(" Regresar ")]),_:1},8,["href"])])]),e("div",G,[e("form",{onSubmit:M(z,["prevent"]),class:"grid lg:grid-cols-2 gap-4"},[e("div",null,[s(i,{for:"nombre",value:"Nombre"}),s(m,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:a(o).nombre,"onUpdate:modelValue":t[0]||(t[0]=l=>a(o).nombre=l),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),s(d,{class:"mt-2",message:a(o).errors.nombre},null,8,["message"])]),e("div",null,[s(i,{for:"sku",value:"SKU"}),s(m,{id:"sku",type:"text",class:"mt-1 block w-full",modelValue:a(o).sku,"onUpdate:modelValue":t[1]||(t[1]=l=>a(o).sku=l),required:"",autocomplete:"sku"},null,8,["modelValue"]),s(d,{class:"mt-2",message:a(o).errors.sku},null,8,["message"])]),e("div",null,[s(i,{for:"cantidad",value:"cantidad"}),s(m,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:a(o).cantidad,"onUpdate:modelValue":t[2]||(t[2]=l=>a(o).cantidad=l),required:"",autocomplete:"cantidad"},null,8,["modelValue"]),s(d,{class:"mt-2",message:a(o).errors.cantidad},null,8,["message"])]),e("div",null,[s(i,{for:"precio",value:"Precio"}),s(m,{id:"precio",type:"number",class:"mt-1 block w-full",modelValue:a(o).precio,"onUpdate:modelValue":t[3]||(t[3]=l=>a(o).precio=l),required:"",autocomplete:"precio"},null,8,["modelValue"]),s(d,{class:"mt-2",message:a(o).errors.precio},null,8,["message"])]),e("div",K,[e("div",null,[s(i,{for:"talla",value:"Talla"}),c(e("select",{id:"talla",name:"talla","onUpdate:modelValue":t[4]||(t[4]=l=>a(o).talla=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},Y,512),[[h,a(o).talla]]),s(d,{class:"mt-2",message:a(o).errors.talla},null,8,["message"])]),e("div",null,[s(i,{for:"categoria",value:"Categoría"}),c(e("select",{id:"categoria",name:"categoria","onUpdate:modelValue":t[5]||(t[5]=l=>a(o).categoria_id=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[ee,(u(!0),n(U,null,N(w.categorias,l=>(u(),n("option",{key:l.id,value:l.id},y(l.nombre),9,oe))),128))],512),[[h,a(o).categoria_id]]),s(d,{class:"mt-2",message:a(o).errors.categoria},null,8,["message"])]),e("div",null,[s(i,{for:"estado",value:"Estado"}),c(e("select",{id:"estado",name:"estado","onUpdate:modelValue":t[6]||(t[6]=l=>a(o).estado=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},re,512),[[h,a(o).estado]]),s(d,{class:"mt-2",message:a(o).errors.estado},null,8,["message"])])]),e("div",de,[ie,s(a(P),{modelValue:a(o).detalles,"onUpdate:modelValue":t[7]||(t[7]=l=>a(o).detalles=l),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"detalles"},null,8,["modelValue"]),e("p",{class:S(["text-gray-500 text-sm mt-2",{"text-red-500":b.value}])},[v(y(k.value)+" caracteres ",1),b.value?(u(),n("span",ne,"Limite de caracteres superado")):A("",!0)],2),s(d,{class:"mt-2",message:a(o).errors.detalles},null,8,["message"])]),e("div",ue,[ce,e("div",me,[c(e("div",pe,[s(m,{id:"imagen",type:"file",class:"mt-1 !border-0",accept:"image/*",onInput:t[8]||(t[8]=l=>$(l.target.files[0])),maxFileSize:2e6})],512),[[q,g.value]]),c(e("button",{type:"button",onClick:t[9]||(t[9]=l=>g.value=!0),class:"bg-blue-800 text-white p-2 rounded-md shadow-xl hover:scale-125"}," Cambiar imagen ",512),[[q,!g.value]]),e("div",ge,[p.value?(u(),n("img",{key:0,src:p.value,alt:a(o).nombre,class:"w-2/6 h-auto"},null,8,be)):A("",!0)]),s(d,{class:"mt-2",message:a(o).errors.imagen},null,8,["message"])])]),e("div",null,[e("div",fe,[s(j,{class:S({"opacity-25":a(o).processing}),disabled:a(o).processing},{default:_(()=>[v(" Actualizar producto ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{ze as default};
