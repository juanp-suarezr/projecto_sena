import{l as _,T as h,g as k,m as V,c as p,a as t,u as o,w as n,F as N,p as $,o as c,Z as R,b as d,d as s,e as U,n as b,t as j,f as q,j as A}from"./app-RSOWmGCQ.js";import{_ as B}from"./AuthenticatedLayout-36knnmzF.js";import{_ as x,a as g,b as m}from"./TextInput-9c8eF1dI.js";import{_ as C}from"./PrimaryButton-TJPzQAim.js";import{_ as F}from"./SecondaryButton-6zv7LV75.js";import"./multiselect.esm-Ej0dBR9w.js";import{s as S}from"./textarea.esm-2A_sfgDp.js";import{r as z}from"./PhotoIcon-vvcT0gtv.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./TAYSU LOGO REGISTRADO-05FDOwhA.js";import"./virtualscroller.esm-jJa3C1Wb.js";import"./ripple.esm-j8v4WZGD.js";import"./basecomponent.esm-hJOnh_7b.js";import"./index.esm-jLlFTGNL.js";import"./portal.esm-MNF-yVIz.js";const I={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},L={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},T=s("h3",{class:"mt-1 text-gray-500"}," Nueva categoría ",-1),D={class:"text-right"},E={class:"p-4 md:p-5"},M={class:"col-span-2"},G=s("p",{class:"text-gray-600 text-sm"}," Información adicional sobre el evento (max 255 caracteres) ",-1),K={key:0},O={class:"col-span-2"},P=s("p",{class:"text-gray-600 text-sm"}," Imagen de referencia del evento ",-1),Z={class:"border-2 border-gray-300 rounded-md p-2"},H={class:"flex justify-center"},J=["src"],Q={class:"mt-4 flex flex-col items-end"},pe={__name:"Add",props:{roles:{type:Object,default:()=>({})}},setup(W){const v=$("$swal"),u=_(null),l=_(!1),e=h({nombre:"",keyword:"",descripcion:"",imagen:""}),f=k(()=>{const a=e.descripcion.trim().length;return a>=300?l.value=!0:l.value=!1,a});V(f,()=>{e.descripcion=e.descripcion.trim()});const y=i=>{if(e.imagen=i,console.log(e.imagen),!e.imagen)return;const a=new FileReader;a.onload=()=>{u.value=a.result},a.readAsDataURL(e.imagen)},w=()=>{e.post(route("categorias.store"),{onSuccess:function(){v({title:"Registro Guardado",text:"La categoría se ha almacenado exitosamente",icon:"success"})}})};return(i,a)=>(c(),p(N,null,[t(o(R),{title:"Agregar categoría"}),t(B,null,{header:n(()=>[d(" Nueva categoría ")]),default:n(()=>[s("div",I,[s("div",L,[T,s("div",D,[t(F,{href:i.route("categorias.index")},{default:n(()=>[d(" Regresar ")]),_:1},8,["href"])])]),s("div",E,[s("form",{onSubmit:U(w,["prevent"]),class:"grid lg:grid-cols-2 gap-4"},[s("div",null,[t(x,{for:"nombre",value:"Nombre"}),t(g,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:o(e).nombre,"onUpdate:modelValue":a[0]||(a[0]=r=>o(e).nombre=r),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),t(m,{class:"mt-2",message:o(e).errors.nombre},null,8,["message"])]),s("div",null,[t(x,{for:"keyword",value:"Keyword"}),t(g,{id:"keyword",type:"text",class:"mt-1 block w-full",modelValue:o(e).keyword,"onUpdate:modelValue":a[1]||(a[1]=r=>o(e).keyword=r),required:"",autocomplete:"keyword"},null,8,["modelValue"]),t(m,{class:"mt-2",message:o(e).errors.keyword},null,8,["message"])]),s("div",M,[G,t(o(S),{modelValue:o(e).descripcion,"onUpdate:modelValue":a[2]||(a[2]=r=>o(e).descripcion=r),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"]),s("p",{class:b(["text-gray-500 text-sm mt-2",{"text-red-500":l.value}])},[d(j(f.value)+" caracteres ",1),l.value?(c(),p("span",K,"Limite de caracteres superado")):q("",!0)],2),t(m,{class:"mt-2",message:o(e).errors.descripcion},null,8,["message"])]),s("div",O,[P,s("div",Z,[t(g,{id:"imagen",type:"file",required:"",class:"mt-1 !border-0",accept:"image/*",onInput:a[3]||(a[3]=r=>y(r.target.files[0])),maxFileSize:2e6}),t(m,{class:"mt-2",message:o(e).errors.imagen},null,8,["message"]),s("div",H,[u.value?(c(),p("img",{key:0,src:u.value,alt:"form.nombre",class:"w-2/6 h-auto"},null,8,J)):(c(),A(o(z),{key:1,class:"w-1/6 text-gray-300"}))])])]),s("div",null,[s("div",Q,[t(C,{class:b({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:n(()=>[d(" Registrar Categoría ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{pe as default};
