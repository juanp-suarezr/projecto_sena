import{l as c,T as N,g as y,m as z,c as f,a as s,u as i,w as a,F as C,p as B,o as g,Z as D,b as n,d as e,z as F,t as x,y as I,n as L}from"./app-RSOWmGCQ.js";import{_ as S}from"./AuthenticatedLayout-36knnmzF.js";import{_ as T}from"./PrimaryLink-ZKu8uxQo.js";import{a as A,_ as k}from"./Modal-zaJLjxJt.js";import{_ as $}from"./SecondaryButton-6zv7LV75.js";import{_ as K,a as M,b as O}from"./TextInput-9c8eF1dI.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./TAYSU LOGO REGISTRADO-05FDOwhA.js";const Z={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},G={class:"text-right p-4"},H={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},J={class:"w-full whitespace-no-wrap overflow-x-auto"},Q=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1),W={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},X={class:"text-gray-900 whitespace-no-wrap"},Y={class:"inline-flex w-full border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ee={class:"flex items-center border-b bg-gray-50 px-5 py-2 xs:flex-row justify-between text-gray-500 text-xs font-semibold"},se=["disabled"],te=e("i",{class:"fa-solid fa-arrow-left"},null,-1),oe=[te],ae=["disabled"],re=e("i",{class:"fa-solid fa-arrow-right"},null,-1),le=[re],ie={class:"p-6"},ne=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un rol de usuario? ",-1),ce=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el rol, todos los permisos se eliminaran permanentemente de los usuarios. Por favor ingrese su contraseña para confirmar que desea eliminar. ",-1),de={class:"mt-6"},ue={class:"mt-6 flex justify-end"},ve={__name:"Index",props:{roles:Object},setup(E){const h=E,P=B("$swal"),m=c(!1),w=c(),o=N({password:""}),p=()=>{m.value=!1,o.reset()},V=r=>{m.value=!0,w.value=r},v=()=>{o.delete(route("roles.destroy",w.value),{preserveScroll:!0,onSuccess:()=>{p(),P({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>o.reset()})},d=c(8),t=c(0),_=y(()=>Math.ceil(h.roles.length/d.value)),R=()=>{t.value>0&&t.value--},U=()=>{t.value<_.value-1&&t.value++};z(d,()=>{t.value=0});const j=c(""),q=y(()=>{const r=t.value*d.value,u=r+d.value;return h.roles.filter(b=>b.name.toLowerCase().includes(j.value.toLowerCase())).slice(r,u)});return(r,u)=>(g(),f(C,null,[s(i(D),{title:"Roles del sistema"}),s(S,null,{header:a(()=>[n(" Roles del sistema ")]),default:a(()=>[e("div",Z,[e("div",G,[s(T,{href:r.route("roles.create")},{default:a(()=>[n(" Agregar ")]),_:1},8,["href"])])]),e("div",H,[e("table",J,[Q,e("tbody",null,[(g(!0),f(C,null,F(q.value,l=>(g(),f("tr",{key:l.id,class:"text-gray-700"},[e("td",W,[e("p",X,x(l.name),1)]),e("td",Y,[s($,{href:r.route("roles.edit",l.id),class:"mr-2"},{default:a(()=>[n(" Editar ")]),_:2},1032,["href"]),s(k,{onClick:b=>V(l.id)},{default:a(()=>[n("Eliminar")]),_:2},1032,["onClick"])])]))),128))])]),e("div",ee,[e("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:R,disabled:t.value===0},oe,8,se),e("p",null,"Pagina "+x(t.value+1)+" de "+x(_.value),1),e("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:U,disabled:t.value===_.value-1},le,8,ae)])]),s(A,{show:m.value,onClose:p},{default:a(()=>[e("div",ie,[ne,ce,e("div",de,[s(K,{for:"password",value:"Contraseña",class:"sr-only"}),s(M,{id:"password",ref:"passwordInput",modelValue:i(o).password,"onUpdate:modelValue":u[0]||(u[0]=l=>i(o).password=l),type:"password",class:"mt-1 block w-3/4",placeholder:"Contraseña",onKeyup:I(v,["enter"])},null,8,["modelValue"]),s(O,{message:i(o).errors.password,class:"mt-2"},null,8,["message"])]),e("div",ue,[s($,{onClick:p},{default:a(()=>[n(" Cancelar ")]),_:1}),s(k,{class:L(["ms-3",{"opacity-25":i(o).processing}]),disabled:i(o).processing,onClick:v},{default:a(()=>[n(" Eliminar rol ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{ve as default};
