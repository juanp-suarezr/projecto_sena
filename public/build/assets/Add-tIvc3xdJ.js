import{l as y,T as q,g as A,m as T,c as n,a as o,u as a,w as p,F as h,p as N,o as i,Z as $,b as g,d as e,e as B,h as b,q as _,z as R,n as w,t as k,f as L,j as M}from"./app-RSOWmGCQ.js";import{_ as j}from"./AuthenticatedLayout-36knnmzF.js";import{_ as d,a as c,b as r}from"./TextInput-9c8eF1dI.js";import{_ as z}from"./PrimaryButton-TJPzQAim.js";import{_ as C}from"./SecondaryButton-6zv7LV75.js";import"./multiselect.esm-Ej0dBR9w.js";import{s as E}from"./textarea.esm-2A_sfgDp.js";import{r as F}from"./PhotoIcon-vvcT0gtv.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./TAYSU LOGO REGISTRADO-05FDOwhA.js";import"./virtualscroller.esm-jJa3C1Wb.js";import"./ripple.esm-j8v4WZGD.js";import"./basecomponent.esm-hJOnh_7b.js";import"./index.esm-jLlFTGNL.js";import"./portal.esm-MNF-yVIz.js";const D={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},I={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},P=e("h3",{class:"mt-1 text-gray-500"}," Nuevo producto ",-1),X={class:"text-right"},G={class:"p-4 md:p-5"},K={class:"col-span-2 w-full sm:flex grid gap-4"},O=e("option",{selected:"",disabled:"",value:""},"seleccionar talla",-1),Z=e("option",{value:"XS"},"Talla XS",-1),H=e("option",{value:"S"},"Talla S",-1),J=e("option",{value:"M"},"Talla M",-1),Q=e("option",{value:"L"},"Talla L",-1),W=[O,Z,H,J,Q],Y=e("option",{selected:"",disabled:"",value:""},"seleccionar categoria",-1),ee=["value"],se=e("option",{selected:"",disabled:"",value:""},"seleccionar estado",-1),ae=e("option",{value:"Activo"},"Activo",-1),oe=e("option",{value:"Agotado"},"Agotado",-1),te=e("option",{value:"Bloqueado"},"Bloqueado",-1),le=[se,ae,oe,te],re={class:"col-span-2"},de=e("p",{class:"text-gray-600 text-sm"}," Información adicional sobre el producto (max 300 caracteres) ",-1),ie={key:0},ne={class:"col-span-2"},ce=e("p",{class:"text-gray-600 text-sm"}," Imagen de referencia del producto ",-1),ue={class:"border-2 border-gray-300 rounded-md p-2"},me={class:"flex justify-center"},pe=["src"],ge={class:"mt-4 flex flex-col items-end"},$e={__name:"Add",props:{categorias:{type:Object,default:()=>({})}},setup(v){const V=N("$swal"),f=y(null),u=y(!1);console.log(v.categorias);const s=q({nombre:"",sku:"",detalles:"",precio:"",cantidad:"",talla:"",categoria_id:"",estado:"",imagen:""}),x=A(()=>{const t=s.detalles.trim().length;return t>=300?u.value=!0:u.value=!1,t});T(x,()=>{s.detalles=s.detalles.trim()});const U=m=>{if(s.imagen=m,console.log(s.imagen),!s.imagen)return;const t=new FileReader;t.onload=()=>{f.value=t.result},t.readAsDataURL(s.imagen)},S=()=>{s.post(route("productos.store"),{onSuccess:function(){V({title:"Registro Guardado",text:"El producto se ha almacenado exitosamente",icon:"success"})}})};return(m,t)=>(i(),n(h,null,[o(a($),{title:"Agregar Producto"}),o(j,null,{header:p(()=>[g(" Nuevo producto ")]),default:p(()=>[e("div",D,[e("div",I,[P,e("div",X,[o(C,{href:m.route("productos.index")},{default:p(()=>[g(" Regresar ")]),_:1},8,["href"])])]),e("div",G,[e("form",{onSubmit:B(S,["prevent"]),class:"grid lg:grid-cols-2 gap-4"},[e("div",null,[o(d,{for:"nombre",value:"Nombre"}),o(c,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:a(s).nombre,"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).nombre=l),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),o(r,{class:"mt-2",message:a(s).errors.nombre},null,8,["message"])]),e("div",null,[o(d,{for:"sku",value:"SKU"}),o(c,{id:"sku",type:"text",class:"mt-1 block w-full",modelValue:a(s).sku,"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).sku=l),required:"",autocomplete:"sku"},null,8,["modelValue"]),o(r,{class:"mt-2",message:a(s).errors.sku},null,8,["message"])]),e("div",null,[o(d,{for:"cantidad",value:"cantidad"}),o(c,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:a(s).cantidad,"onUpdate:modelValue":t[2]||(t[2]=l=>a(s).cantidad=l),required:"",autocomplete:"cantidad"},null,8,["modelValue"]),o(r,{class:"mt-2",message:a(s).errors.cantidad},null,8,["message"])]),e("div",null,[o(d,{for:"precio",value:"Precio"}),o(c,{id:"precio",type:"number",class:"mt-1 block w-full",modelValue:a(s).precio,"onUpdate:modelValue":t[3]||(t[3]=l=>a(s).precio=l),required:"",autocomplete:"precio"},null,8,["modelValue"]),o(r,{class:"mt-2",message:a(s).errors.precio},null,8,["message"])]),e("div",K,[e("div",null,[o(d,{for:"talla",value:"Talla"}),b(e("select",{id:"talla",name:"talla","onUpdate:modelValue":t[4]||(t[4]=l=>a(s).talla=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},W,512),[[_,a(s).talla]]),o(r,{class:"mt-2",message:a(s).errors.talla},null,8,["message"])]),e("div",null,[o(d,{for:"categoria",value:"Categoría"}),b(e("select",{id:"categoria",name:"categoria","onUpdate:modelValue":t[5]||(t[5]=l=>a(s).categoria_id=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[Y,(i(!0),n(h,null,R(v.categorias,l=>(i(),n("option",{key:l.id,value:l.id},k(l.nombre),9,ee))),128))],512),[[_,a(s).categoria_id]]),o(r,{class:"mt-2",message:a(s).errors.categoria},null,8,["message"])]),e("div",null,[o(d,{for:"estado",value:"Estado"}),b(e("select",{id:"estado",name:"estado","onUpdate:modelValue":t[6]||(t[6]=l=>a(s).estado=l),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},le,512),[[_,a(s).estado]]),o(r,{class:"mt-2",message:a(s).errors.estado},null,8,["message"])])]),e("div",re,[de,o(a(E),{modelValue:a(s).detalles,"onUpdate:modelValue":t[7]||(t[7]=l=>a(s).detalles=l),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"detalles"},null,8,["modelValue"]),e("p",{class:w(["text-gray-500 text-sm mt-2",{"text-red-500":u.value}])},[g(k(x.value)+" caracteres ",1),u.value?(i(),n("span",ie,"Limite de caracteres superado")):L("",!0)],2),o(r,{class:"mt-2",message:a(s).errors.detalles},null,8,["message"])]),e("div",ne,[ce,e("div",ue,[o(c,{id:"imagen",type:"file",required:"",class:"mt-1 !border-0",accept:"image/*",onInput:t[8]||(t[8]=l=>U(l.target.files[0])),maxFileSize:2e6}),o(r,{class:"mt-2",message:a(s).errors.imagen},null,8,["message"]),e("div",me,[f.value?(i(),n("img",{key:0,src:f.value,alt:"form.nombre",class:"w-2/6 h-auto"},null,8,pe)):(i(),M(a(F),{key:1,class:"w-1/6 text-gray-300"}))])])]),e("div",null,[e("div",ge,[o(z,{class:w({"opacity-25":a(s).processing}),disabled:a(s).processing},{default:p(()=>[g(" Registrar producto ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{$e as default};
